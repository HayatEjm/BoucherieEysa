/*! For license information please see 862.5ce66ef6.js.LICENSE.txt */
"use strict";(self.webpackChunkboucherieeysa=self.webpackChunkboucherieeysa||[]).push([[862],{8457:(t,e,n)=>{n.d(e,{A:()=>l});var r=n(6934),o=n(63699),a={class:"toast-banner-wrapper"},u={key:0,class:"toast-icon"},i={key:1,class:"toast-icon"},s={class:"toast-message"};const c={__name:"ToastVue",setup:function(t){var e=(0,o.d)(),n=e.toasts;e.showToast;return function(t,e){return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(r.F,{name:"toast-banner",tag:"div"},{default:(0,r.k6)(function(){return[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,r.R1)(n),function(t){return(0,r.uX)(),(0,r.CE)("div",{key:t.id,class:(0,r.C4)(["toast-banner",t.type])},[(0,r.Q3)(" Icône coche pour succès "),"success"===t.type?((0,r.uX)(),(0,r.CE)("span",u,"✔️")):(0,r.Q3)("v-if",!0),(0,r.Q3)(" Icône croix pour erreur "),"error"===t.type?((0,r.uX)(),(0,r.CE)("span",i,"❌")):(0,r.Q3)("v-if",!0),(0,r.Lk)("span",s,(0,r.v_)(t.message),1)],2)}),128))]}),_:1})])}}};const l=(0,n(66262).A)(c,[["__scopeId","data-v-04efd317"]])},17862:(t,e,n)=>{n.r(e),n.d(e,{default:()=>P});n(52675),n(89463),n(16280),n(76918),n(94170),n(62010),n(2892),n(9868),n(59904),n(84185),n(40875),n(79432),n(63548),n(10287),n(26099),n(3362);var r=n(6934),o=n(98508),a=n(63699),u=n(8457);function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof c?r:c,l=Object.create(i.prototype);return s(l,"_invoke",function(n,r,o){var a,i,s,c=0,l=o||[],p=!1,d={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return a=e,i=0,s=t,d.n=n,u}};function v(n,r){for(i=n,s=r,e=0;!p&&c&&!o&&e<l.length;e++){var o,a=l[e],v=d.p,f=a[2];n>3?(o=f===r)&&(s=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=v&&((o=n<2&&v<a[1])?(i=0,d.v=r,d.n=a[1]):v<f&&(o=n<3||a[0]>r||r>f)&&(a[4]=n,a[5]=r,d.n=f,i=0))}if(o||n>1)return u;throw p=!0,r}return function(o,l,f){if(c>1)throw TypeError("Generator is already running");for(p&&1===l&&v(l,f),i=l,s=f;(e=i<2?t:s)||!p;){a||(i?i<3?(i>1&&(d.n=-1),v(i,s)):d.n=s:d.v=s);try{if(c=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(p=d.n<0)?s:n.call(r,d))!==u)break}catch(e){a=t,i=1,s=e}finally{c=1}}return{value:e,done:p}}}(n,o,a),!0),l}var u={};function c(){}function l(){}function p(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(s(e={},r,function(){return this}),e),v=p.prototype=c.prototype=Object.create(d);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return l.prototype=p,s(v,"constructor",p),s(p,"constructor",l),l.displayName="GeneratorFunction",s(p,o,"GeneratorFunction"),s(v),s(v,o,"Generator"),s(v,r,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:f}})()}function s(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}s=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){s(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},s(t,e,n,r)}function c(t,e,n,r,o,a,u){try{var i=t[a](u),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,o)}var l={class:"product-info-section"},p={class:"product-header"},d={class:"product-title"},v={key:0,class:"product-category"},f={key:0,class:"product-description"},y={class:"price-calculator"},g={class:"price-display"},b={class:"current-price"},m={class:"price-per-kg"},k={class:"quantity-controls"},h={class:"quantity-input-group"},C=["min","max","step"],_={class:"quantity-suggestions"},E={class:"suggestion-buttons"},L=["onClick"],w={key:0,class:"suggestion-desc"},Q={key:1,class:"suggestion-desc"},q={key:2,class:"suggestion-desc"},x={class:"min-weight-notice"},j={class:"notice-text"},X=["disabled"],T={key:0},W={key:1};const O={__name:"ProductDetail",props:{product:{type:Object,required:!0},minWeight:{type:Number,required:!0},maxWeight:{type:Number,default:6e3},step:{type:Number,default:100},suggestions:{type:Array,default:function(){return[500,1e3,1500]}}},setup:function(t){var e=(0,o.x)(),n=(0,a.d)();console.log("Cart store:",e),console.log("Méthodes dispo:",Object.keys(e));var s=t,O=(0,r.KR)(s.minWeight),P=(0,r.KR)(!1),F=(0,r.EW)(function(){return(O.value/1e3*s.product.pricePerKg).toFixed(2)});(0,r.EW)(function(){return!0});function S(){return A.apply(this,arguments)}function A(){var t;return t=i().m(function t(){var r;return i().w(function(t){for(;;)switch(t.n){case 0:if(!(O.value<s.minWeight)){t.n=1;break}return alert("Quantité minimale requise : ".concat(s.minWeight,"g")),t.a(2);case 1:return P.value=!0,t.p=2,t.n=3,e.addToCart(s.product.id,O.value);case 3:t.v,n.showToast("Produit ajouté au panier"),t.n=5;break;case 4:t.p=4,r=t.v,n.showToast(r.message||"Erreur lors de l’ajout au panier","error");case 5:return t.p=5,P.value=!1,t.f(5);case 6:return t.a(2)}},t,null,[[2,4,5,6]])}),A=function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function u(t){c(a,r,o,u,i,"next",t)}function i(t){c(a,r,o,u,i,"throw",t)}u(void 0)})},A.apply(this,arguments)}return function(e,n){return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.Q3)(" En-tête produit "),(0,r.Lk)("div",p,[(0,r.Lk)("h1",d,(0,r.v_)(t.product.name),1),t.product.category?((0,r.uX)(),(0,r.CE)("div",v,(0,r.v_)(t.product.category.name),1)):(0,r.Q3)("v-if",!0)]),(0,r.Q3)(" Description "),t.product.description?((0,r.uX)(),(0,r.CE)("div",f,(0,r.v_)(t.product.description),1)):(0,r.Q3)("v-if",!0),(0,r.Q3)(" Calculateur de prix "),(0,r.Lk)("div",y,[n[7]||(n[7]=(0,r.Lk)("h3",null,"Pesez votre viande",-1)),(0,r.Lk)("div",g,[(0,r.Lk)("div",b,(0,r.v_)(F.value)+" €",1),(0,r.Lk)("div",m,(0,r.v_)(t.product.pricePerKg.toFixed(2))+" € / kg",1)]),(0,r.Q3)(" Sélecteur de quantité "),(0,r.Lk)("div",k,[n[4]||(n[4]=(0,r.Lk)("label",{class:"quantity-label"},"Quantité (g) :",-1)),(0,r.Lk)("div",h,[(0,r.Lk)("button",{class:"qty-btn qty-minus",onClick:n[0]||(n[0]=function(e){return O.value=Math.max(O.value-t.step,t.minWeight)})},"−"),(0,r.bo)((0,r.Lk)("input",{class:"quantity-input",type:"number","onUpdate:modelValue":n[1]||(n[1]=function(t){return O.value=t}),min:t.minWeight,max:t.maxWeight,step:t.step},null,8,C),[[r.Jo,O.value,void 0,{number:!0}]]),(0,r.Lk)("button",{class:"qty-btn qty-plus",onClick:n[2]||(n[2]=function(e){return O.value=Math.min(O.value+t.step,t.maxWeight)})},"+"),n[3]||(n[3]=(0,r.Lk)("span",{class:"quantity-unit"},"g",-1))])]),(0,r.Q3)(" Suggestions "),(0,r.Lk)("div",_,[n[5]||(n[5]=(0,r.Lk)("span",{class:"suggestions-label"},"Suggestions :",-1)),(0,r.Lk)("div",E,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.suggestions,function(t){return(0,r.uX)(),(0,r.CE)("button",{key:t,class:"suggestion-btn",onClick:function(e){return n=t,void(O.value=n);var n}},[(0,r.eW)((0,r.v_)(t)+"g ",1),500===t?((0,r.uX)(),(0,r.CE)("span",w,"pour 1-2 personnes")):1e3===t?((0,r.uX)(),(0,r.CE)("span",Q,"pour 2-4 personnes")):1500===t?((0,r.uX)(),(0,r.CE)("span",q,"pour 4-6 personnes")):(0,r.Q3)("v-if",!0)],8,L)}),128))])]),(0,r.Q3)(" Notice poids minimum "),(0,r.Lk)("div",x,[(0,r.Lk)("span",j,"Quantité minimale requise : "+(0,r.v_)(t.minWeight)+"g",1),n[6]||(n[6]=(0,r.Lk)("span",{class:"notice-explanation"}," Pour garantir la qualité et la praticité de la découpe. ",-1))]),(0,r.Q3)(" Bouton panier "),(0,r.Lk)("button",{class:"add-to-cart-btn btn-eysa btn-eysa-primary",onClick:S,disabled:P.value},[P.value?((0,r.uX)(),(0,r.CE)("span",T,"Ajout en cours…")):((0,r.uX)(),(0,r.CE)("span",W,"Ajouter au panier"))],8,X),(0,r.bF)(u.A)])])}}};const P=(0,n(66262).A)(O,[["__scopeId","data-v-6ddbaef5"]])},63699:(t,e,n)=>{n.d(e,{d:()=>a});n(2008),n(44114),n(59089),n(26099),n(98992),n(54520),n(76031);var r=(0,n(6934).KR)([]);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o=Date.now()+Math.random();r.value.push({id:o,message:t,type:e}),setTimeout(function(){r.value=r.value.filter(function(t){return t.id!==o})},n)}function a(){return{toasts:r,showToast:o}}}}]);