/*! For license information please see app.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[524],{706:(t,e,n)=>{"use strict";var r=n(350).PROPER,o=n(9039),a=n(7452);t.exports=function(t){return o(function(){return!!a[t]()||"​᠎"!=="​᠎"[t]()||r&&a[t].name!==t})}},2703:(t,e,n)=>{"use strict";var r=n(4576),o=n(9039),a=n(9504),i=n(655),u=n(3802).trim,c=n(7452),l=r.parseInt,s=r.Symbol,d=s&&s.iterator,p=/^[+-]?0x/i,f=a(p.exec),v=8!==l(c+"08")||22!==l(c+"0x16")||d&&!o(function(){l(Object(d))});t.exports=v?function(t,e){var n=u(i(t));return l(n,e>>>0||(f(p,n)?16:10))}:l},2762:(t,e,n)=>{"use strict";var r=n(6518),o=n(3802).trim;r({target:"String",proto:!0,forced:n(706)("trim")},{trim:function(){return o(this)}})},3878:(t,e,n)=>{"use strict";n(2675),n(9463),n(6280),n(6918),n(1629),n(3792),n(4170),n(2892),n(9904),n(4185),n(875),n(9432),n(3548),n(287),n(6099),n(8940),n(3362),n(7764),n(2762),n(8992),n(3949),n(3500),n(2953);var r=n(1425),o=n(4298),a=(n(2010),["href"]);const i={__name:"DropdownMenu",props:{categories:{type:Array,required:!0,default:function(){return[]}}},setup:function(t){var e=(0,r.KR)(!1);function n(){e.value=!e.value}function o(){e.value=!1}return function(i,u){return(0,r.uX)(),(0,r.CE)("li",{class:"dropdown",onMouseleave:o},[(0,r.Lk)("a",{href:"#",class:"dropbtn",onClick:(0,r.D$)(n,["prevent"])},u[0]||(u[0]=[(0,r.eW)(" NOS PRODUITS "),(0,r.Lk)("span",{class:"arrow"},"▼",-1)])),(0,r.Lk)("ul",{class:(0,r.C4)(["dropdown-content",{show:e.value}])},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.categories,function(t){return(0,r.uX)(),(0,r.CE)("li",{key:t.id},[(0,r.Lk)("a",{href:"/categories/".concat(t.id)},(0,r.v_)(t.name),9,a)])}),128))],2)],32)}}};n(6031);function u(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof l?r:l,s=Object.create(u.prototype);return c(s,"_invoke",function(n,r,o){var a,u,c,l=0,s=o||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,u=0,c=t,p.n=n,i}};function f(n,r){for(u=n,c=r,e=0;!d&&l&&!o&&e<s.length;e++){var o,a=s[e],f=p.p,v=a[2];n>3?(o=v===r)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=n<2&&f<a[1])?(u=0,p.v=r,p.n=a[1]):f<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,p.n=v,u=0))}if(o||n>1)return i;throw d=!0,r}return function(o,s,v){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,v),u=s,c=v;(e=u<2?t:c)||!d;){a||(u?u<3?(u>1&&(p.n=-1),f(u,c)):p.n=c:p.v=c);try{if(l=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(e){a=t,u=1,c=e}finally{l=1}}return{value:e,done:d}}}(n,o,a),!0),s}var i={};function l(){}function s(){}function d(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),f=d.prototype=l.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=d,c(f,"constructor",d),c(d,"constructor",s),s.displayName="GeneratorFunction",c(d,o,"GeneratorFunction"),c(f),c(f,o,"Generator"),c(f,r,function(){return this}),c(f,"toString",function(){return"[object Generator]"}),(u=function(){return{w:a,m:v}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){c(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},c(t,e,n,r)}function l(t,e,n,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}var s={class:"search-results"},d={key:0,class:"search-loading"},p={key:0},f=["onClick"],v={key:1},y=["onClick"];const h={__name:"SearchBar",setup:function(t){var e=(0,r.KR)(!1),n=(0,r.KR)(""),o=(0,r.KR)(!1),a=(0,r.KR)(null),i=(0,r.KR)({products:[],categories:[],total_results:0}),c=(0,r.KR)(null),h=(0,r.EW)(function(){return i.value.total_results>0}),m=(0,r.EW)(function(){return n.value.length<2&&!o.value});function b(){e.value=!e.value,e.value?(0,r.dY)(function(){var t,e=null===(t=c.value)||void 0===t?void 0:t.querySelector('input[type="text"]');null==e||e.focus()}):g()}function g(){e.value=!1,n.value="",i.value={products:[],categories:[],total_results:0},clearTimeout(a.value)}function k(t){g(),window.location.href=t}function w(){clearTimeout(a.value),n.value.length<2?i.value={products:[],categories:[],total_results:0}:a.value=setTimeout(function(){!function(){S.apply(this,arguments)}()},300)}function S(){var t;return t=u().m(function t(){var e,r,a;return u().w(function(t){for(;;)switch(t.n){case 0:return o.value=!0,t.p=1,t.n=2,fetch("/api/search?q=".concat(encodeURIComponent(n.value)));case 2:return e=t.v,t.n=3,e.json();case 3:r=t.v,i.value=r,t.n=5;break;case 4:t.p=4,a=t.v,console.error("Erreur recherche :",a),i.value={products:[],categories:[],total_results:0};case 5:return t.p=5,o.value=!1,t.f(5);case 6:return t.a(2)}},t,null,[[1,4,5,6]])}),S=function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){l(a,r,o,i,u,"next",t)}function u(t){l(a,r,o,i,u,"throw",t)}i(void 0)})},S.apply(this,arguments)}function E(t){c.value&&!c.value.contains(t.target)&&g()}return(0,r.sV)(function(){document.addEventListener("click",E)}),(0,r.xo)(function(){document.removeEventListener("click",E),clearTimeout(a.value)}),function(t,a){return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Q3)(" Conteneur principal du composant "),(0,r.Lk)("div",{class:"search-container",ref_key:"container",ref:c},[(0,r.Q3)(" Bouton d'ouverture/fermeture de la recherche "),(0,r.Lk)("a",{href:"#",class:"icon-link",onClick:(0,r.D$)(b,["prevent"])},[a[1]||(a[1]=(0,r.Lk)("i",{class:"fas fa-search"},null,-1)),(0,r.Q3)(" Icône loupe ")]),(0,r.Q3)(" Dropdown de recherche "),(0,r.Lk)("div",{class:(0,r.C4)(["search-dropdown",{show:e.value}])},[(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Rechercher un produit","onUpdate:modelValue":a[0]||(a[0]=function(t){return n.value=t}),onInput:w},null,544),[[r.Jo,n.value]]),(0,r.Q3)(" Zone de résultats "),(0,r.Lk)("div",s,[(0,r.Q3)(" Affichage pendant le chargement "),o.value?((0,r.uX)(),(0,r.CE)("div",d,a[2]||(a[2]=[(0,r.Lk)("i",{class:"fas fa-spinner"},null,-1),(0,r.eW)(" Recherche... ")]))):m.value?((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.Q3)(" Aide si trop peu de caractères "),a[3]||(a[3]=(0,r.Lk)("p",{class:"search-hint"}," Tapez au moins 2 caractères... ",-1))],2112)):h.value?((0,r.uX)(),(0,r.CE)(r.FK,{key:3},[(0,r.Q3)(" Résultats produits et catégories "),(0,r.Q3)(" Produits "),i.value.products.length?((0,r.uX)(),(0,r.CE)("div",p,[a[5]||(a[5]=(0,r.Lk)("h4",null,"Produits",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.value.products,function(t){return(0,r.uX)(),(0,r.CE)("div",{key:t.id,class:"search-item",onClick:function(e){return k(t.url)},style:{cursor:"pointer"}},[(0,r.Lk)("strong",null,(0,r.v_)(t.name),1),(0,r.Lk)("span",null,(0,r.v_)(t.price)+"€ - "+(0,r.v_)(t.category_name),1)],8,f)}),128))])):(0,r.Q3)("v-if",!0),(0,r.Q3)(" Catégories "),i.value.categories.length?((0,r.uX)(),(0,r.CE)("div",v,[a[6]||(a[6]=(0,r.Lk)("h4",null,"Catégories",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.value.categories,function(t){return(0,r.uX)(),(0,r.CE)("div",{key:t.id,class:"search-item",onClick:function(e){return k(t.url)},style:{cursor:"pointer"}},[(0,r.Lk)("strong",null,(0,r.v_)(t.name),1),(0,r.Lk)("span",null,(0,r.v_)(t.product_count||0)+" produit(s)",1)],8,y)}),128))])):(0,r.Q3)("v-if",!0)],64)):((0,r.uX)(),(0,r.CE)(r.FK,{key:2},[(0,r.Q3)(" Aucun résultat trouvé "),a[4]||(a[4]=(0,r.Lk)("div",{class:"search-no-results"}," Aucun résultat trouvé ",-1))],2112))])],2)],512)],2112)}}};var m=["data-count","aria-label","title"];n(3288),n(8781);var b=n(8199);function g(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return k(l,"_invoke",function(n,r,o){var a,u,c,l=0,s=o||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,u=0,c=t,p.n=n,i}};function f(n,r){for(u=n,c=r,e=0;!d&&l&&!o&&e<s.length;e++){var o,a=s[e],f=p.p,v=a[2];n>3?(o=v===r)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=n<2&&f<a[1])?(u=0,p.v=r,p.n=a[1]):f<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,p.n=v,u=0))}if(o||n>1)return i;throw d=!0,r}return function(o,s,v){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,v),u=s,c=v;(e=u<2?t:c)||!d;){a||(u?u<3?(u>1&&(p.n=-1),f(u,c)):p.n=c:p.v=c);try{if(l=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(e){a=t,u=1,c=e}finally{l=1}}return{value:e,done:d}}}(n,o,a),!0),l}var i={};function u(){}function c(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(k(e={},r,function(){return this}),e),d=l.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,k(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return c.prototype=l,k(d,"constructor",l),k(l,"constructor",c),c.displayName="GeneratorFunction",k(l,o,"GeneratorFunction"),k(d),k(d,o,"Generator"),k(d,r,function(){return this}),k(d,"toString",function(){return"[object Generator]"}),(g=function(){return{w:a,m:p}})()}function k(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}k=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){k(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},k(t,e,n,r)}function w(t,e,n,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function S(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){w(a,r,o,i,u,"next",t)}function u(t){w(a,r,o,i,u,"throw",t)}i(void 0)})}}const E={name:"CartBadge",setup:function(){var t=(0,b.x)(),e=(0,r.KR)(!1);(0,r.sV)(S(g().m(function n(){var r;return g().w(function(n){for(;;)switch(n.n){case 0:return n.p=0,n.n=1,t.fetchSummary();case 1:e.value=!0,n.n=3;break;case 2:n.p=2,r=n.v,console.error("❌ CartBadge: Erreur lors du chargement:",r),e.value=!0;case 3:return n.a(2)}},n,null,[[0,2]])})));var n=(0,r.EW)(function(){return t.totalQuantity>99?"99+":t.totalQuantity.toString()}),o=(0,r.EW)(function(){var n="cart-badge",r=t.totalQuantity;return e.value?0===r?"".concat(n," hidden"):r>=100?"".concat(n," lots"):r>=10?"".concat(n," many"):n:n}),a=(0,r.EW)(function(){var e=t.totalQuantity;return 0===e?"Panier vide":1===e?"1 article dans le panier":"".concat(e," articles dans le panier")}),i=(0,r.EW)(function(){return a.value});return{displayCount:n,badgeClasses:o,ariaLabel:a,tooltipText:i,totalQuantity:(0,r.EW)(function(){return t.totalQuantity})}}};var _=n(6262);const O=(0,_.A)(E,[["render",function(t,e,n,o,a,i){return(0,r.uX)(),(0,r.CE)("span",{class:(0,r.C4)(o.badgeClasses),"data-count":o.displayCount,"aria-label":o.ariaLabel,title:o.tooltipText},(0,r.v_)(o.displayCount),11,m)}],["__scopeId","data-v-762c7f65"]]);var C=["disabled"];n(8706);function x(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return j(l,"_invoke",function(n,r,o){var a,u,c,l=0,s=o||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,u=0,c=t,p.n=n,i}};function f(n,r){for(u=n,c=r,e=0;!d&&l&&!o&&e<s.length;e++){var o,a=s[e],f=p.p,v=a[2];n>3?(o=v===r)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=n<2&&f<a[1])?(u=0,p.v=r,p.n=a[1]):f<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,p.n=v,u=0))}if(o||n>1)return i;throw d=!0,r}return function(o,s,v){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,v),u=s,c=v;(e=u<2?t:c)||!d;){a||(u?u<3?(u>1&&(p.n=-1),f(u,c)):p.n=c:p.v=c);try{if(l=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(e){a=t,u=1,c=e}finally{l=1}}return{value:e,done:d}}}(n,o,a),!0),l}var i={};function u(){}function c(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(j(e={},r,function(){return this}),e),d=l.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,j(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return c.prototype=l,j(d,"constructor",l),j(l,"constructor",c),c.displayName="GeneratorFunction",j(l,o,"GeneratorFunction"),j(d),j(d,o,"Generator"),j(d,r,function(){return this}),j(d,"toString",function(){return"[object Generator]"}),(x=function(){return{w:a,m:p}})()}function j(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}j=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){j(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},j(t,e,n,r)}function P(t,e,n,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}const T={name:"AddToCartButton",props:{productId:{type:[String,Number],required:!0},quantity:{type:Number,default:1},customClass:{type:String,default:"add-to-cart"},text:{type:String,default:"Ajouter au panier"},loadingText:{type:String,default:"Ajout..."}},setup:function(t,e){var n=e.emit,o=(0,b.x)(),a=(0,r.KR)(!1),i=(0,r.EW)(function(){return a.value?t.loadingText:t.text}),u=(0,r.EW)(function(){return"".concat(t.customClass," ").concat(a.value?"loading":"")}),c=function(){var e,r=(e=x().m(function e(){var r,i;return x().w(function(e){for(;;)switch(e.n){case 0:if(!a.value){e.n=1;break}return e.a(2);case 1:return a.value=!0,e.p=2,e.n=3,o.addToCart(t.productId,t.quantity);case 3:r=e.v,n("added",{productId:t.productId,quantity:t.quantity,message:r}),e.n=5;break;case 4:e.p=4,i=e.v,n("error",i);case 5:return e.p=5,a.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(t){P(a,r,o,i,u,"next",t)}function u(t){P(a,r,o,i,u,"throw",t)}i(void 0)})});return function(){return r.apply(this,arguments)}}();return{loading:a,buttonText:i,buttonClasses:u,handleAddToCart:c}}},L=(0,_.A)(T,[["render",function(t,e,n,o,a,i){return(0,r.uX)(),(0,r.CE)("button",{class:(0,r.C4)(o.buttonClasses),disabled:o.loading,onClick:e[0]||(e[0]=function(){return o.handleAddToCart&&o.handleAddToCart.apply(o,arguments)})},(0,r.v_)(o.buttonText),11,C)}]]);n(9009),n(5343),n(3995),n(9615);function G(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return q(l,"_invoke",function(n,r,o){var a,u,c,l=0,s=o||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,u=0,c=t,p.n=n,i}};function f(n,r){for(u=n,c=r,e=0;!d&&l&&!o&&e<s.length;e++){var o,a=s[e],f=p.p,v=a[2];n>3?(o=v===r)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=n<2&&f<a[1])?(u=0,p.v=r,p.n=a[1]):f<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,p.n=v,u=0))}if(o||n>1)return i;throw d=!0,r}return function(o,s,v){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,v),u=s,c=v;(e=u<2?t:c)||!d;){a||(u?u<3?(u>1&&(p.n=-1),f(u,c)):p.n=c:p.v=c);try{if(l=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(e){a=t,u=1,c=e}finally{l=1}}return{value:e,done:d}}}(n,o,a),!0),l}var i={};function u(){}function c(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(q(e={},r,function(){return this}),e),d=l.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,q(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return c.prototype=l,q(d,"constructor",l),q(l,"constructor",c),c.displayName="GeneratorFunction",q(l,o,"GeneratorFunction"),q(d),q(d,o,"Generator"),q(d,r,function(){return this}),q(d,"toString",function(){return"[object Generator]"}),(G=function(){return{w:a,m:p}})()}function q(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}q=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){q(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},q(t,e,n,r)}function I(t,e,n,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}var F=document.getElementById("vue-dropdown-menu");if(F)try{var A=JSON.parse(F.dataset.categories);(0,r.Ef)(i,{categories:A}).mount(F)}catch(t){console.error("Erreur initialisation menu :",t)}var N=document.querySelector(".search-container");if(N){var D=(0,r.Ef)(h);D.use(o.G),D.mount(N)}var Q=document.getElementById("cart-badge");if(Q)try{var R=(0,r.Ef)(O);R.use(o.G),R.mount(Q)}catch(t){console.error("Erreur initialisation badge panier :",t)}var X=document.querySelectorAll(".add-to-cart[data-product-id]");X.length>0&&X.forEach(function(t){var e=t.dataset.productId,n=parseInt(t.dataset.quantity)||1;if(e){var a=(0,r.Ef)(L,{productId:e,quantity:n,customClass:t.className,text:t.textContent.trim()});a.use(o.G),a.mount(t)}});var W=document.getElementById("product-detail");W&&function(){var t,e=(t=G().m(function t(){var e,a,i,u,c,l,s,d,p;return G().w(function(t){for(;;)switch(t.n){case 0:return t.p=0,t.n=1,n.e(862).then(n.bind(n,7862));case 1:e=t.v,a=e.default,i=JSON.parse(W.dataset.product),u=Number(W.dataset.minWeight||200),c=Number(W.dataset.maxWeight||5e3),l=Number(W.dataset.step||100),s=JSON.parse(W.dataset.suggestions||"[500,1000,1500]"),(d=(0,r.Ef)(a,{product:i,minWeight:u,maxWeight:c,step:l,suggestions:s})).use(o.G),d.mount(W),t.n=3;break;case 2:t.p=2,p=t.v,console.error("Erreur chargement ProductDetail :",p),W.innerHTML="<p>Erreur de chargement du sélecteur de produit</p>";case 3:return t.a(2)}},t,null,[[0,2]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){I(a,r,o,i,u,"next",t)}function u(t){I(a,r,o,i,u,"throw",t)}i(void 0)})});return function(){return e.apply(this,arguments)}}()()},3904:(t,e,n)=>{"use strict";var r=n(4576),o=n(9039),a=n(9504),i=n(655),u=n(3802).trim,c=n(7452),l=a("".charAt),s=r.parseFloat,d=r.Symbol,p=d&&d.iterator,f=1/s(c+"-0")!=-1/0||p&&!o(function(){s(Object(p))});t.exports=f?function(t){var e=u(i(t)),n=s(e);return 0===n&&"-"===l(e,0)?-0:n}:s},3995:(t,e,n)=>{n(1629),n(6099),n(8992),n(3949),n(3500),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('a[href^="#"]').forEach(function(t){t.addEventListener("click",function(t){var e=this.getAttribute("href");if(e&&"#"!==e){var n=document.querySelector(e);n&&(t.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"start"}))}})})});var r=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".advantage-card, .pickup-item, .schedule-item").forEach(function(t){t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",r.observe(t)})},4298:(t,e,n)=>{"use strict";n.d(e,{G:()=>r});var r=(0,n(2408).Ey)()},5343:(t,e,n)=>{n(8706),n(1629),n(9868),n(6099),n(8459),n(8940),n(3362),n(9391),n(7495),n(5440),n(8992),n(3949),n(3500),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".quantity-input").forEach(function(t){t.dataset.productId,parseInt(t.dataset.minGrams),parseInt(t.dataset.maxGrams)})}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".quantity-input").forEach(function(t){var e,n=t.dataset.productId,r=parseInt(t.dataset.minGrams),o=parseInt(t.dataset.maxGrams),a=t.closest(".product-card"),i=a?parseFloat((null===(e=a.querySelector(".quick-add-btn"))||void 0===e?void 0:e.dataset.price)||0):0;function u(){var e,a=t.dataset.currentUnit,u=parseFloat(t.value);(e="kg"===a?1e3*u:u)<r?(t.classList.add("error"),t.value="kg"===a?(r/1e3).toFixed(1):r,e=r):t.classList.remove("error"),e>o&&(t.value="kg"===a?(o/1e3).toFixed(1):o,e=o);var c=e/1e3*i,l=document.getElementById("price-preview-"+n);l&&(l.querySelector(".preview-price").textContent=c.toFixed(2).replace(".",",")+"€")}t.addEventListener("input",u),t.addEventListener("blur",u),u()}),document.querySelectorAll(".quick-add-btn").forEach(function(t){t.addEventListener("click",function(){var t=this.dataset.productId,e=this.dataset.productName,n=parseInt(this.dataset.minWeight),r=document.getElementById("quantity-"+t),o=r.dataset.currentUnit,a=parseFloat(r.value),i="kg"===o?1e3*a:a;if(i<n){var u,c=n>=1e3?(n/1e3).toFixed(1)+"kg":n+"g";null===(u=window.BoucherieCart)||void 0===u||u.showNotification('⚠️ Quantité insuffisante pour "'.concat(e,'".\n\nMinimum requis : ').concat(c,"\nCette contrainte est nécessaire pour la rentabilité et la praticité en boucherie."),"error")}else this.disabled=!0,this.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Ajout...',function(t,e,n,r){fetch("/panier/add/".concat(t),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:"quantity=".concat(e)}).then(function(t){return t.json()}).then(function(t){var e,r,o;t.success?(null===(e=window.BoucherieCart)||void 0===e||e.showNotification("✅ ".concat(n," ajouté au panier !"),"success"),null===(r=window.BoucherieCart)||void 0===r||r.loadCartCount()):null===(o=window.BoucherieCart)||void 0===o||o.showNotification("❌ ".concat(t.error||"Erreur lors de l'ajout au panier"),"error")}).catch(function(t){var e;console.error("Erreur:",t),null===(e=window.BoucherieCart)||void 0===e||e.showNotification("❌ Erreur de connexion","error")}).finally(function(){r.disabled=!1,r.innerHTML='<i class="fa-solid fa-cart-plus"></i> Ajouter'})}(t,Math.round(i),e,this)})})})},8459:(t,e,n)=>{"use strict";var r=n(6518),o=n(3904);r({global:!0,forced:parseFloat!==o},{parseFloat:o})},8940:(t,e,n)=>{"use strict";var r=n(6518),o=n(2703);r({global:!0,forced:parseInt!==o},{parseInt:o})},9009:(t,e,n)=>{n(1629),n(6099),n(8992),n(3949),n(3500),n(6031),document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".mobile-menu-toggle"),e=document.querySelector(".mobile-menu");t&&e&&t.addEventListener("click",function(){e.classList.toggle("active")}),document.addEventListener("click",function(n){!e||e.contains(n.target)||t.contains(n.target)||e.classList.remove("active")}),document.querySelectorAll(".dropdown-trigger").forEach(function(t){var e=t.nextElementSibling;e&&e.classList.contains("dropdown-menu")&&(t.addEventListener("mouseenter",function(){e.style.display="block"}),t.addEventListener("mouseleave",function(){setTimeout(function(){e.matches(":hover")||(e.style.display="none")},100)}),e.addEventListener("mouseleave",function(){e.style.display="none"}))})})},9391:(t,e,n)=>{"use strict";var r=n(6518),o=n(6395),a=n(550),i=n(9039),u=n(7751),c=n(4901),l=n(2293),s=n(3438),d=n(6840),p=a&&a.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&i(function(){p.finally.call({then:function(){}},function(){})})},{finally:function(t){var e=l(this,u("Promise")),n=c(t);return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}}),!o&&c(a)){var f=u("Promise").prototype.finally;p.finally!==f&&d(p,"finally",f,{unsafe:!0})}},9615:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof l?r:l,s=Object.create(i.prototype);return u(s,"_invoke",function(n,r,o){var a,i,u,l=0,s=o||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,i=0,u=t,p.n=n,c}};function f(n,r){for(i=n,u=r,e=0;!d&&l&&!o&&e<s.length;e++){var o,a=s[e],f=p.p,v=a[2];n>3?(o=v===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=n<2&&f<a[1])?(i=0,p.v=r,p.n=a[1]):f<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,p.n=v,i=0))}if(o||n>1)return c;throw d=!0,r}return function(o,s,v){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,v),i=s,u=v;(e=i<2?t:u)||!d;){a||(i?i<3?(i>1&&(p.n=-1),f(i,u)):p.n=u:p.v=u);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(d=p.n<0)?u:n.call(r,p))!==c)break}catch(e){a=t,i=1,u=e}finally{l=1}}return{value:e,done:d}}}(n,o,a),!0),s}var c={};function l(){}function s(){}function d(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(u(e={},r,function(){return this}),e),f=d.prototype=l.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=d,u(f,"constructor",d),u(d,"constructor",s),s.displayName="GeneratorFunction",u(d,o,"GeneratorFunction"),u(f),u(f,o,"Generator"),u(f,r,function(){return this}),u(f,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:v}})()}function u(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}u=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){u(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},u(t,e,n,r)}function c(t,e,n,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}n(2675),n(9463),n(2259),n(5700),n(6280),n(6918),n(8706),n(2008),n(1629),n(3792),n(4114),n(9572),n(3288),n(4170),n(2892),n(9904),n(7945),n(4185),n(3851),n(1278),n(875),n(9432),n(3548),n(287),n(6099),n(3362),n(7764),n(8992),n(4520),n(3949),n(3500),n(2953);var l={name:"PickupSlotSelector",props:{daysToShow:{type:Number,default:7},apiUrl:{type:String,default:"/api/pickup-slots"}},setup:function(t,e){var n=e.emit,r=Vue,o=r.ref,a=r.onMounted,u=r.computed,l=o([]),s=o(!0),d=o(null),p=o(null),f=u(function(){return l.value||[]}),v=function(){var e,n=(e=i().m(function e(){var n,r,o;return i().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,s.value=!0,d.value=null,e.n=1,fetch("".concat(t.apiUrl,"?days=").concat(t.daysToShow));case 1:return n=e.v,e.n=2,n.json();case 2:if(!(r=e.v).success){e.n=3;break}l.value=r.data.slots,e.n=4;break;case 3:throw new Error(r.error||"Erreur lors du chargement des créneaux");case 4:e.n=6;break;case 5:e.p=5,o=e.v,d.value=o.message,console.error("Erreur lors du chargement des créneaux:",o);case 6:return e.p=6,s.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[0,5,6,7]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(t){c(a,r,o,i,u,"next",t)}function u(t){c(a,r,o,i,u,"throw",t)}i(void 0)})});return function(){return n.apply(this,arguments)}}();return a(function(){v()}),{slots:l,loading:s,error:d,selectedSlot:p,availableSlots:f,loadSlots:v,selectSlot:function(t,e){e.available&&(p.value={date:t,timeSlot:e.key,time:e.time},n("slot-selected",p.value))},getSlotClass:function(t){var e="pickup-slot";if(!t.available)return"".concat(e," pickup-slot--full");switch(t.status){case"limited":return"".concat(e," pickup-slot--limited");case"available":return"".concat(e," pickup-slot--available");default:return e}},isSelected:function(t,e){var n,r;return(null===(n=p.value)||void 0===n?void 0:n.date)===t&&(null===(r=p.value)||void 0===r?void 0:r.timeSlot)===e},formatDate:function(t){return new Date(t).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})}}},template:'\n        <div class="pickup-slot-selector">\n            <div class="pickup-slot-selector__header">\n                <h3 class="pickup-slot-selector__title">\n                    Choisissez votre créneau de retrait\n                </h3>\n                <p class="pickup-slot-selector__subtitle">\n                    Sélectionnez un créneau disponible pour récupérer votre commande\n                </p>\n            </div>\n\n            \x3c!-- État de chargement --\x3e\n            <div v-if="loading" class="pickup-slot-selector__loading">\n                <div class="loading-spinner"></div>\n                <p>Chargement des créneaux disponibles...</p>\n            </div>\n\n            \x3c!-- Erreur --\x3e\n            <div v-else-if="error" class="pickup-slot-selector__error">\n                <p>{{ error }}</p>\n                <button @click="loadSlots" class="btn btn--secondary">\n                    Réessayer\n                </button>\n            </div>\n\n            \x3c!-- Créneaux disponibles --\x3e\n            <div v-else class="pickup-slot-selector__content">\n                <div v-if="availableSlots.length === 0" class="pickup-slot-selector__empty">\n                    <p>Aucun créneau disponible pour le moment.</p>\n                </div>\n\n                <div v-else class="pickup-slot-grid">\n                    <div \n                        v-for="day in availableSlots" \n                        :key="day.date"\n                        class="pickup-day"\n                    >\n                        <div class="pickup-day__header">\n                            <h4 class="pickup-day__date">\n                                {{ formatDate(day.date) }}\n                            </h4>\n                        </div>\n\n                        <div class="pickup-day__slots">\n                            <button\n                                v-for="slot in day.slots"\n                                :key="slot.key"\n                                :class="[\n                                    getSlotClass(slot),\n                                    { \'pickup-slot--selected\': isSelected(day.date, slot.key) }\n                                ]"\n                                :disabled="!slot.available"\n                                @click="selectSlot(day.date, slot)"\n                            >\n                                <span class="pickup-slot__time">{{ slot.time }}</span>\n                                <span class="pickup-slot__status">\n                                    <span v-if="slot.status === \'available\'" class="status-text">\n                                        {{ slot.max_orders - slot.current_orders }} places restantes\n                                    </span>\n                                    <span v-else-if="slot.status === \'limited\'" class="status-text">\n                                        Plus que {{ slot.max_orders - slot.current_orders }} places\n                                    </span>\n                                    <span v-else class="status-text">\n                                        Complet\n                                    </span>\n                                </span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                \x3c!-- Créneau sélectionné --\x3e\n                <div v-if="selectedSlot" class="pickup-slot-selector__selected">\n                    <div class="selected-slot">\n                        <h4>Créneau sélectionné :</h4>\n                        <p>\n                            <strong>{{ formatDate(selectedSlot.date) }}</strong> \n                            à <strong>{{ selectedSlot.time }}</strong>\n                        </p>\n                    </div>\n                </div>\n\n                \x3c!-- Légende --\x3e\n                <div class="pickup-slot-selector__legend">\n                    <div class="legend-item">\n                        <span class="legend-color legend-color--available"></span>\n                        Disponible\n                    </div>\n                    <div class="legend-item">\n                        <span class="legend-color legend-color--limited"></span>\n                        Places limitées\n                    </div>\n                    <div class="legend-item">\n                        <span class="legend-color legend-color--full"></span>\n                        Complet\n                    </div>\n                </div>\n            </div>\n        </div>\n    '};window.initPickupSlotSelector=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pickup-slot-app",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.getElementById(t);if(!n)return console.error("Container avec l'id \"".concat(t,'" non trouvé')),null;if("undefined"==typeof Vue)return console.error("Vue.js n'est pas chargé"),null;var r=Vue,i=r.createApp,u=r.ref,c=i({components:{PickupSlotSelector:l},setup:function(){var t=u(null);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({selectedSlot:t,handleSlotSelected:function(n){t.value=n;var r=document.querySelector('input[name="pickup_date"]'),o=document.querySelector('input[name="pickup_time_slot"]');r&&(r.value=n.date),o&&(o.value=n.timeSlot),r&&r.dispatchEvent(new Event("change")),o&&o.dispatchEvent(new Event("change")),e.onSlotSelected&&e.onSlotSelected(n)}},e)},template:'\n            <PickupSlotSelector \n                :days-to-show="daysToShow || 7"\n                :api-url="apiUrl || \'/api/pickup-slots\'"\n                @slot-selected="handleSlotSelected"\n            />\n        '});return c.mount(n)}}},t=>{t.O(0,[838,989,408,256,214,537,344],()=>{return e=3878,t(t.s=e);var e});t.O()}]);