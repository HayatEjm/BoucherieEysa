/*! For license information please see 208.2c47ae03.js.LICENSE.txt */
"use strict";(self.webpackChunkboucherieeysa=self.webpackChunkboucherieeysa||[]).push([[208],{8457:(t,n,r)=>{r.d(n,{A:()=>l});var e=r(6934),o=r(63699),i={class:"toast-banner-wrapper"},a={key:0,class:"toast-icon"},u={key:1,class:"toast-icon"},c={class:"toast-message"};const s={__name:"ToastVue",setup:function(t){var n=(0,o.d)(),r=n.toasts;n.showToast;return function(t,n){return(0,e.uX)(),(0,e.CE)("div",i,[(0,e.bF)(e.F,{name:"toast-banner",tag:"div"},{default:(0,e.k6)(function(){return[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)((0,e.R1)(r),function(t){return(0,e.uX)(),(0,e.CE)("div",{key:t.id,class:(0,e.C4)(["toast-banner",t.type])},[(0,e.Q3)(" Icône coche pour succès "),"success"===t.type?((0,e.uX)(),(0,e.CE)("span",a,"✔️")):(0,e.Q3)("v-if",!0),(0,e.Q3)(" Icône croix pour erreur "),"error"===t.type?((0,e.uX)(),(0,e.CE)("span",u,"❌")):(0,e.Q3)("v-if",!0),(0,e.Lk)("span",c,(0,e.v_)(t.message),1)],2)}),128))]}),_:1})])}}};const l=(0,r(66262).A)(s,[["__scopeId","data-v-04efd317"]])},63699:(t,n,r)=>{r.d(n,{d:()=>i});r(2008),r(44114),r(59089),r(26099),r(98992),r(54520),r(76031);var e=(0,r(6934).KR)([]);function o(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o=Date.now()+Math.random();e.value.push({id:o,message:t,type:n}),setTimeout(function(){e.value=e.value.filter(function(t){return t.id!==o})},r)}function i(){return{toasts:e,showToast:o}}},94208:(t,n,r)=>{r.r(n),r.d(n,{default:()=>w});var e=r(6934),o=(r(52675),r(89463),r(2259),r(16280),r(76918),r(23418),r(64346),r(23792),r(34782),r(23288),r(94170),r(62010),r(9868),r(59904),r(84185),r(40875),r(63548),r(10287),r(26099),r(3362),r(27495),r(90906),r(38781),r(47764),r(62953),r(98508)),i=r(63699);function a(){var t,n,r="function"==typeof Symbol?Symbol:{},e=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,e,o,i){var a=e&&e.prototype instanceof s?e:s,l=Object.create(a.prototype);return u(l,"_invoke",function(r,e,o){var i,a,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(n,r){return i=n,a=0,u=t,p.n=r,c}};function d(r,e){for(a=r,u=e,n=0;!f&&s&&!o&&n<l.length;n++){var o,i=l[n],d=p.p,v=i[2];r>3?(o=v===e)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=r<2&&d<i[1])?(a=0,p.v=e,p.n=i[1]):d<v&&(o=r<3||i[0]>e||e>v)&&(i[4]=r,i[5]=e,p.n=v,a=0))}if(o||r>1)return c;throw f=!0,e}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,v),a=l,u=v;(n=a<2?t:u)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,u)):p.n=u:p.v=u);try{if(s=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(f=p.n<0)?u:r.call(e,p))!==c)break}catch(n){i=t,a=1,u=n}finally{s=1}}return{value:n,done:f}}}(r,o,i),!0),l}var c={};function s(){}function l(){}function f(){}n=Object.getPrototypeOf;var p=[][e]?n(n([][e]())):(u(n={},e,function(){return this}),n),d=f.prototype=s.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,u(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=f,u(d,"constructor",f),u(f,"constructor",l),l.displayName="GeneratorFunction",u(f,o,"GeneratorFunction"),u(d),u(d,o,"Generator"),u(d,e,function(){return this}),u(d,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:v}})()}function u(t,n,r,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}u=function(t,n,r,e){if(n)o?o(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r;else{var i=function(n,r){u(t,n,function(t){return this._invoke(n,r,t)})};i("next",0),i("throw",1),i("return",2)}},u(t,n,r,e)}function c(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return s(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function l(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}var f={class:"cart-container"},p={key:0,class:"cart-loading"},d={class:"cart-items"},v={class:"cart-item-image"},m=["src"],y={class:"cart-item-info"},h={class:"cart-item-actions"},k=["onClick"],b=["onClick"],g={class:"cart-summary"};const C={__name:"CartView",setup:function(t){var n=(0,o.x)(),r=(0,i.d)();function u(){var t;return t=a().m(function t(e){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,n.removeProduct(e);case 1:r.showToast("Produit supprimé du panier","success");case 2:return t.a(2)}},t)}),u=function(){var n=this,r=arguments;return new Promise(function(e,o){var i=t.apply(n,r);function a(t){l(i,e,o,a,u,"next",t)}function u(t){l(i,e,o,a,u,"throw",t)}a(void 0)})},u.apply(this,arguments)}function s(){confirm("Êtes-vous sûr de vouloir vider votre panier ?")&&(n.clearCart(),r.showToast("Panier vidé","success"))}return(0,e.sV)(function(){n.fetchSummary()}),function(t,r){return(0,e.uX)(),(0,e.CE)("div",f,[(0,e.Q3)(" État de chargement "),(0,e.R1)(n).loading?((0,e.uX)(),(0,e.CE)("div",p,c(r[0]||(r[0]=[(0,e.Lk)("h2",null,"Chargement en cours...",-1),(0,e.Lk)("p",null,"Récupération de votre panier...",-1)])))):(0,e.R1)(n).isEmpty?((0,e.uX)(),(0,e.CE)(e.FK,{key:1},[(0,e.Q3)(" Panier vide "),r[1]||(r[1]=(0,e.Lk)("div",{class:"cart-empty"},[(0,e.Lk)("h2",null,"Votre panier est vide"),(0,e.Lk)("p",null,"Il semble que vous n'ayez pas encore ajouté de produit."),(0,e.Lk)("a",{href:"/",class:"btn-continue-shopping"},"Voir les produits")],-1))],2112)):((0,e.uX)(),(0,e.CE)(e.FK,{key:2},[(0,e.Q3)(" Contenu du panier "),(0,e.Lk)("div",null,[r[3]||(r[3]=(0,e.Lk)("h2",{class:"cart-title"},"Contenu de votre panier",-1)),(0,e.Lk)("div",d,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)((0,e.R1)(n).items,function(t){return(0,e.uX)(),(0,e.CE)("div",{key:t.product.id,class:"cart-item"},[(0,e.Lk)("div",v,[(0,e.Lk)("img",{src:t.product.imageUrl||"https://via.placeholder.com/80",alt:""},null,8,m)]),(0,e.Lk)("div",y,[(0,e.Lk)("h3",null,(0,e.v_)(t.product.name),1),(0,e.Lk)("p",null,"Quantité : "+(0,e.v_)((t.quantity/1e3).toFixed(2))+"kg",1),(0,e.Lk)("p",null,"Prix unitaire : "+(0,e.v_)(t.unitPrice.toFixed(2))+" €/kg",1),(0,e.Lk)("p",null,"Total : "+(0,e.v_)(t.totalTTC.toFixed(2))+" €",1)]),(0,e.Lk)("div",h,[(0,e.Lk)("button",{onClick:function(n){return r=t.product.id,void(window.location.href="/product/".concat(r));var r},class:"btn-modify-item"},"Modifier",8,k),(0,e.Lk)("button",{onClick:function(n){return function(t){return u.apply(this,arguments)}(t.product.id)},class:"btn-remove-item"},"Supprimer",8,b)])])}),128))]),(0,e.Lk)("div",g,[(0,e.Lk)("h3",null,"Total TTC : "+(0,e.v_)((0,e.R1)(n).totalPrice.toFixed(2))+" €",1),(0,e.Lk)("div",{class:"cart-actions"},[(0,e.Lk)("button",{onClick:s,class:"btn-clear-cart"},"Vider le panier"),r[2]||(r[2]=(0,e.Lk)("a",{href:"/checkout",class:"btn-checkout"},"Valider le panier",-1))])])])],2112))])}}};var L=r(8457);const w={__name:"CartApp",setup:function(t){return function(t,n){return(0,e.uX)(),(0,e.CE)("div",null,[(0,e.Q3)(" Composant principal d'affichage du panier "),(0,e.bF)(C),(0,e.Q3)(" Composant pour les notifications (toast animé) "),(0,e.bF)(L.A)])}}}}}]);