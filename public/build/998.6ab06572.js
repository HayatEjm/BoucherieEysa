/*! For license information please see 998.6ab06572.js.LICENSE.txt */
"use strict";(self.webpackChunkboucherieeysa=self.webpackChunkboucherieeysa||[]).push([[208,998],{8457:(t,r,e)=>{e.d(r,{A:()=>l});var n=e(6934),o=e(63699),i={class:"toast-banner-wrapper"},a={key:0,class:"toast-icon"},u={key:1,class:"toast-icon"},c={class:"toast-message"};const s={__name:"ToastVue",setup:function(t){var r=(0,o.d)(),e=r.toasts;r.showToast;return function(t,r){return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.bF)(n.F,{name:"toast-banner",tag:"div"},{default:(0,n.k6)(function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,n.R1)(e),function(t){return(0,n.uX)(),(0,n.CE)("div",{key:t.id,class:(0,n.C4)(["toast-banner",t.type])},[(0,n.Q3)(" Icône coche pour succès "),"success"===t.type?((0,n.uX)(),(0,n.CE)("span",a,"✔️")):(0,n.Q3)("v-if",!0),(0,n.Q3)(" Icône croix pour erreur "),"error"===t.type?((0,n.uX)(),(0,n.CE)("span",u,"❌")):(0,n.Q3)("v-if",!0),(0,n.Lk)("span",c,(0,n.v_)(t.message),1)],2)}),128))]}),_:1})])}}};const l=(0,e(66262).A)(s,[["__scopeId","data-v-04efd317"]])},8872:(t,r,e)=>{e(18237)},15575:(t,r,e)=>{var n=e(46518),o=e(44576),i=e(79472)(o.setInterval,!0);n({global:!0,bind:!0,forced:o.setInterval!==i},{setInterval:i})},18237:(t,r,e)=>{var n=e(46518),o=e(72652),i=e(79306),a=e(28551),u=e(1767),c=e(9539),s=e(84549),l=e(18745),f=e(79039),p=TypeError,d=f(function(){[].keys().reduce(function(){},void 0)}),v=!d&&s("reduce",p);n({target:"Iterator",proto:!0,real:!0,forced:d||v},{reduce:function(t){a(this);try{i(t)}catch(t){c(this,"throw",t)}var r=arguments.length<2,e=r?void 0:arguments[1];if(v)return l(v,this,r?[t]:[t,e]);var n=u(this),s=0;if(o(n,function(n){r?(r=!1,e=n):e=t(e,n,s),s++},{IS_RECORD:!0}),r)throw new p("Reduce of empty iterator with no initial value");return e}})},24599:(t,r,e)=>{var n=e(46518),o=e(44576),i=e(79472)(o.setTimeout,!0);n({global:!0,bind:!0,forced:o.setTimeout!==i},{setTimeout:i})},59089:(t,r,e)=>{var n=e(46518),o=e(79504),i=Date,a=o(i.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return a(new i)}})},63699:(t,r,e)=>{e.d(r,{d:()=>i});e(2008),e(44114),e(59089),e(26099),e(98992),e(54520),e(76031);var n=(0,e(6934).KR)([]);function o(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o=Date.now()+Math.random();n.value.push({id:o,message:t,type:r}),setTimeout(function(){n.value=n.value.filter(function(t){return t.id!==o})},e)}function i(){return{toasts:n,showToast:o}}},72712:(t,r,e)=>{var n=e(46518),o=e(80926).left,i=e(34598),a=e(39519);n({target:"Array",proto:!0,forced:!e(38574)&&a>79&&a<83||!i("reduce")},{reduce:function(t){var r=arguments.length;return o(this,t,r,r>1?arguments[1]:void 0)}})},76031:(t,r,e)=>{e(15575),e(24599)},79472:(t,r,e)=>{var n,o=e(44576),i=e(18745),a=e(94901),u=e(84215),c=e(82839),s=e(67680),l=e(22812),f=o.Function,p=/MSIE .\./.test(c)||"BUN"===u&&((n=o.Bun.version.split(".")).length<3||"0"===n[0]&&(n[1]<3||"3"===n[1]&&"0"===n[2]));t.exports=function(t,r){var e=r?2:1;return p?function(n,o){var u=l(arguments.length,1)>e,c=a(n)?n:f(n),p=u?s(arguments,e):[],d=u?function(){i(c,this,p)}:c;return r?t(d,o):t(d)}:t}},80926:(t,r,e)=>{var n=e(79306),o=e(48981),i=e(47055),a=e(26198),u=TypeError,c="Reduce of empty array with no initial value",s=function(t){return function(r,e,s,l){var f=o(r),p=i(f),d=a(f);if(n(e),0===d&&s<2)throw new u(c);var v=t?d-1:0,h=t?-1:1;if(s<2)for(;;){if(v in p){l=p[v],v+=h;break}if(v+=h,t?v<0:d<=v)throw new u(c)}for(;t?v>=0:d>v;v+=h)v in p&&(l=e(l,p[v],v,f));return l}};t.exports={left:s(!1),right:s(!0)}},94208:(t,r,e)=>{e.r(r),e.d(r,{default:()=>L});var n=e(6934),o=(e(52675),e(89463),e(2259),e(16280),e(76918),e(23418),e(64346),e(23792),e(34782),e(23288),e(94170),e(62010),e(9868),e(59904),e(84185),e(40875),e(63548),e(10287),e(26099),e(3362),e(27495),e(90906),e(38781),e(47764),e(62953),e(98508)),i=e(63699);function a(){var t,r,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var a=n&&n.prototype instanceof s?n:s,l=Object.create(a.prototype);return u(l,"_invoke",function(e,n,o){var i,a,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(r,e){return i=r,a=0,u=t,p.n=e,c}};function d(e,n){for(a=e,u=n,r=0;!f&&s&&!o&&r<l.length;r++){var o,i=l[r],d=p.p,v=i[2];e>3?(o=v===n)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=e<2&&d<i[1])?(a=0,p.v=n,p.n=i[1]):d<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw f=!0,n}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,v),a=l,u=v;(r=a<2?t:u)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,u)):p.n=u:p.v=u);try{if(s=2,i){if(a||(o="next"),r=i[o]){if(!(r=r.call(i,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,a<2&&(a=0)}else 1===a&&(r=i.return)&&r.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((r=(f=p.n<0)?u:e.call(n,p))!==c)break}catch(r){i=t,a=1,u=r}finally{s=1}}return{value:r,done:f}}}(e,o,i),!0),l}var c={};function s(){}function l(){}function f(){}r=Object.getPrototypeOf;var p=[][n]?r(r([][n]())):(u(r={},n,function(){return this}),r),d=f.prototype=s.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,u(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=f,u(d,"constructor",f),u(f,"constructor",l),l.displayName="GeneratorFunction",u(f,o,"GeneratorFunction"),u(d),u(d,o,"Generator"),u(d,n,function(){return this}),u(d,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:v}})()}function u(t,r,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}u=function(t,r,e,n){if(r)o?o(t,r,{value:e,enumerable:!n,configurable:!n,writable:!n}):t[r]=e;else{var i=function(r,e){u(t,r,function(t){return this._invoke(r,e,t)})};i("next",0),i("throw",1),i("return",2)}},u(t,r,e,n)}function c(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return s(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function l(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}var f={class:"cart-container"},p={key:0,class:"cart-loading"},d={class:"cart-items"},v={class:"cart-item-image"},h=["src"],y={class:"cart-item-info"},m={class:"cart-item-actions"},k=["onClick"],b=["onClick"],g={class:"cart-summary"};const w={__name:"CartView",setup:function(t){var r=(0,o.x)(),e=(0,i.d)();function u(){var t;return t=a().m(function t(n){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.removeProduct(n);case 1:e.showToast("Produit supprimé du panier","success");case 2:return t.a(2)}},t)}),u=function(){var r=this,e=arguments;return new Promise(function(n,o){var i=t.apply(r,e);function a(t){l(i,n,o,a,u,"next",t)}function u(t){l(i,n,o,a,u,"throw",t)}a(void 0)})},u.apply(this,arguments)}function s(){confirm("Êtes-vous sûr de vouloir vider votre panier ?")&&(r.clearCart(),e.showToast("Panier vidé","success"))}return(0,n.sV)(function(){r.fetchSummary()}),function(t,e){return(0,n.uX)(),(0,n.CE)("div",f,[(0,n.Q3)(" État de chargement "),(0,n.R1)(r).loading?((0,n.uX)(),(0,n.CE)("div",p,c(e[0]||(e[0]=[(0,n.Lk)("h2",null,"Chargement en cours...",-1),(0,n.Lk)("p",null,"Récupération de votre panier...",-1)])))):(0,n.R1)(r).isEmpty?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Q3)(" Panier vide "),e[1]||(e[1]=(0,n.Lk)("div",{class:"cart-empty"},[(0,n.Lk)("h2",null,"Votre panier est vide"),(0,n.Lk)("p",null,"Il semble que vous n'ayez pas encore ajouté de produit."),(0,n.Lk)("a",{href:"/",class:"btn-continue-shopping"},"Voir les produits")],-1))],2112)):((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[(0,n.Q3)(" Contenu du panier "),(0,n.Lk)("div",null,[e[3]||(e[3]=(0,n.Lk)("h2",{class:"cart-title"},"Contenu de votre panier",-1)),(0,n.Lk)("div",d,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,n.R1)(r).items,function(t){return(0,n.uX)(),(0,n.CE)("div",{key:t.product.id,class:"cart-item"},[(0,n.Lk)("div",v,[(0,n.Lk)("img",{src:t.product.imageUrl||"https://via.placeholder.com/80",alt:""},null,8,h)]),(0,n.Lk)("div",y,[(0,n.Lk)("h3",null,(0,n.v_)(t.product.name),1),(0,n.Lk)("p",null,"Quantité : "+(0,n.v_)((t.quantity/1e3).toFixed(2))+"kg",1),(0,n.Lk)("p",null,"Prix unitaire : "+(0,n.v_)(t.unitPrice.toFixed(2))+" €/kg",1),(0,n.Lk)("p",null,"Total : "+(0,n.v_)(t.totalTTC.toFixed(2))+" €",1)]),(0,n.Lk)("div",m,[(0,n.Lk)("button",{onClick:function(r){return e=t.product.id,void(window.location.href="/product/".concat(e));var e},class:"btn-modify-item"},"Modifier",8,k),(0,n.Lk)("button",{onClick:function(r){return function(t){return u.apply(this,arguments)}(t.product.id)},class:"btn-remove-item"},"Supprimer",8,b)])])}),128))]),(0,n.Lk)("div",g,[(0,n.Lk)("h3",null,"Total TTC : "+(0,n.v_)((0,n.R1)(r).totalPrice.toFixed(2))+" €",1),(0,n.Lk)("div",{class:"cart-actions"},[(0,n.Lk)("button",{onClick:s,class:"btn-clear-cart"},"Vider le panier"),e[2]||(e[2]=(0,n.Lk)("a",{href:"/checkout",class:"btn-checkout"},"Valider le panier",-1))])])])],2112))])}}};var C=e(8457);const L={__name:"CartApp",setup:function(t){return function(t,r){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Q3)(" Composant principal d'affichage du panier "),(0,n.bF)(w),(0,n.Q3)(" Composant pour les notifications (toast animé) "),(0,n.bF)(C.A)])}}}}}]);