/*! For license information please see 208.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[208],{3699:(t,n,e)=>{e.d(n,{d:()=>a});e(2008),e(4114),e(9089),e(6099),e(8992),e(4520),e(6031);var r=(0,e(1425).KR)([]);function o(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o=Date.now()+Math.random();r.value.push({id:o,message:t,type:n}),setTimeout(function(){r.value=r.value.filter(function(t){return t.id!==o})},e)}function a(){return{toasts:r,showToast:o}}},4208:(t,n,e)=>{e.r(n),e.d(n,{default:()=>g});var r=e(1425),o=(e(2675),e(9463),e(6280),e(6918),e(4170),e(2010),e(9868),e(9904),e(4185),e(875),e(3548),e(287),e(6099),e(3362),e(8199)),a=e(3699);function i(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var i=r&&r.prototype instanceof s?r:s,l=Object.create(i.prototype);return u(l,"_invoke",function(e,r,o){var a,i,u,s=0,l=o||[],p=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(n,e){return a=n,i=0,u=t,f.n=e,c}};function d(e,r){for(i=e,u=r,n=0;!p&&s&&!o&&n<l.length;n++){var o,a=l[n],d=f.p,v=a[2];e>3?(o=v===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=d&&((o=e<2&&d<a[1])?(i=0,f.v=r,f.n=a[1]):d<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,f.n=v,i=0))}if(o||e>1)return c;throw p=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,v),i=l,u=v;(n=i<2?t:u)||!p;){a||(i?i<3?(i>1&&(f.n=-1),d(i,u)):f.n=u:f.v=u);try{if(s=2,a){if(i||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,i<2&&(i=0)}else 1===i&&(n=a.return)&&n.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((n=(p=f.n<0)?u:e.call(r,f))!==c)break}catch(n){a=t,i=1,u=n}finally{s=1}}return{value:n,done:p}}}(e,o,a),!0),l}var c={};function s(){}function l(){}function p(){}n=Object.getPrototypeOf;var f=[][r]?n(n([][r]())):(u(n={},r,function(){return this}),n),d=p.prototype=s.prototype=Object.create(f);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=p,u(d,"constructor",p),u(p,"constructor",l),l.displayName="GeneratorFunction",u(p,o,"GeneratorFunction"),u(d),u(d,o,"Generator"),u(d,r,function(){return this}),u(d,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:v}})()}function u(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}u=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var a=function(n,e){u(t,n,function(t){return this._invoke(n,e,t)})};a("next",0),a("throw",1),a("return",2)}},u(t,n,e,r)}function c(t,n,e,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}var s={class:"cart-container"},l={key:0,class:"cart-loading"},p={class:"cart-items"},f={class:"cart-item-image"},d=["src"],v={class:"cart-item-info"},m={class:"cart-item-actions"},k=["onClick"],h=["onClick"],y={class:"cart-summary"};const b={__name:"CartView",setup:function(t){var n=(0,o.x)(),e=(0,a.d)();function u(){var t;return t=i().m(function t(r){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,n.removeProduct(r);case 1:e.showToast("Produit supprimé du panier","success");case 2:return t.a(2)}},t)}),u=function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function i(t){c(a,r,o,i,u,"next",t)}function u(t){c(a,r,o,i,u,"throw",t)}i(void 0)})},u.apply(this,arguments)}function b(){confirm("Êtes-vous sûr de vouloir vider votre panier ?")&&(n.clearCart(),e.showToast("Panier vidé","success"))}return(0,r.sV)(function(){n.fetchSummary()}),function(t,e){return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.Q3)(" État de chargement "),(0,r.R1)(n).loading?((0,r.uX)(),(0,r.CE)("div",l,e[0]||(e[0]=[(0,r.Lk)("h2",null,"Chargement en cours...",-1),(0,r.Lk)("p",null,"Récupération de votre panier...",-1)]))):(0,r.R1)(n).isEmpty?((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.Q3)(" Panier vide "),e[1]||(e[1]=(0,r.Lk)("div",{class:"cart-empty"},[(0,r.Lk)("h2",null,"Votre panier est vide"),(0,r.Lk)("p",null,"Il semble que vous n'ayez pas encore ajouté de produit."),(0,r.Lk)("a",{href:"/",class:"btn-continue-shopping"},"Voir les produits")],-1))],2112)):((0,r.uX)(),(0,r.CE)(r.FK,{key:2},[(0,r.Q3)(" Contenu du panier "),(0,r.Lk)("div",null,[e[3]||(e[3]=(0,r.Lk)("h2",{class:"cart-title"},"Contenu de votre panier",-1)),(0,r.Lk)("div",p,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,r.R1)(n).items,function(t){return(0,r.uX)(),(0,r.CE)("div",{key:t.product.id,class:"cart-item"},[(0,r.Lk)("div",f,[(0,r.Lk)("img",{src:t.product.imageUrl||"https://via.placeholder.com/80",alt:""},null,8,d)]),(0,r.Lk)("div",v,[(0,r.Lk)("h3",null,(0,r.v_)(t.product.name),1),(0,r.Lk)("p",null,"Quantité : "+(0,r.v_)((t.quantity/1e3).toFixed(2))+"kg",1),(0,r.Lk)("p",null,"Prix unitaire : "+(0,r.v_)(t.unitPrice.toFixed(2))+" €/kg",1),(0,r.Lk)("p",null,"Total : "+(0,r.v_)(t.totalTTC.toFixed(2))+" €",1)]),(0,r.Lk)("div",m,[(0,r.Lk)("button",{onClick:function(n){return e=t.product.id,void(window.location.href="/product/".concat(e));var e},class:"btn-modify-item"},"Modifier",8,k),(0,r.Lk)("button",{onClick:function(n){return function(t){return u.apply(this,arguments)}(t.product.id)},class:"btn-remove-item"},"Supprimer",8,h)])])}),128))]),(0,r.Lk)("div",y,[(0,r.Lk)("h3",null,"Total TTC : "+(0,r.v_)((0,r.R1)(n).totalPrice.toFixed(2))+" €",1),(0,r.Lk)("div",{class:"cart-actions"},[(0,r.Lk)("button",{onClick:b,class:"btn-clear-cart"},"Vider le panier"),e[2]||(e[2]=(0,r.Lk)("a",{href:"/checkout",class:"btn-checkout"},"Valider le panier",-1))])])])],2112))])}}};var C=e(8457);const g={__name:"CartApp",setup:function(t){return function(t,n){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Q3)(" Composant principal d'affichage du panier "),(0,r.bF)(b),(0,r.Q3)(" Composant pour les notifications (toast animé) "),(0,r.bF)(C.A)])}}}},8457:(t,n,e)=>{e.d(n,{A:()=>l});var r=e(1425),o=e(3699),a={class:"toast-banner-wrapper"},i={key:0,class:"toast-icon"},u={key:1,class:"toast-icon"},c={class:"toast-message"};const s={__name:"ToastVue",setup:function(t){var n=(0,o.d)(),e=n.toasts;n.showToast;return function(t,n){return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(r.F,{name:"toast-banner",tag:"div"},{default:(0,r.k6)(function(){return[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,r.R1)(e),function(t){return(0,r.uX)(),(0,r.CE)("div",{key:t.id,class:(0,r.C4)(["toast-banner",t.type])},[(0,r.Q3)(" Icône coche pour succès "),"success"===t.type?((0,r.uX)(),(0,r.CE)("span",i,"✔️")):(0,r.Q3)("v-if",!0),(0,r.Q3)(" Icône croix pour erreur "),"error"===t.type?((0,r.uX)(),(0,r.CE)("span",u,"❌")):(0,r.Q3)("v-if",!0),(0,r.Lk)("span",c,(0,r.v_)(t.message),1)],2)}),128))]}),_:1})])}}};const l=(0,e(6262).A)(s,[["__scopeId","data-v-04efd317"]])},9089:(t,n,e)=>{var r=e(6518),o=e(9504),a=Date,i=o(a.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return i(new a)}})}}]);