{% extends 'base.html.twig' %}

{% block title %}Nouveau mot de passe - Boucherie Eysa{% endblock %}

{% block body %}
    <div class="auth-container">
        <div class="auth-card">
            {# En-tête du formulaire #}
            <div class="auth-header">
                <h1><i class="fas fa-lock"></i> Nouveau mot de passe</h1>
                <p>Créez un mot de passe sécurisé pour votre compte</p>
            </div>

            {# Affichage des messages flash #}
            {% for message in app.flashes('error') %}
                <div class="alert-eysa alert-error" style="margin: 1rem 1.5rem 0;">
                    <i class="fas fa-exclamation-triangle"></i>
                    {{ message }}
                </div>
            {% endfor %}

            {# Formulaire de nouveau mot de passe #}
            <form method="post" class="auth-form" novalidate>
                <div class="form-group">
                    {{ form_label(form.password.first, 'Nouveau mot de passe', {
                        'label_attr': {
                            'class': 'form-label'
                        }
                    }) }}
                    {{ form_widget(form.password.first, {
                        'attr': {
                            'class': 'form-control form-control-lg',
                            'placeholder': 'Votre nouveau mot de passe'
                        }
                    }) }}
                    {{ form_errors(form.password.first) }}
                </div>

                <div class="form-group">
                    {{ form_label(form.password.second, 'Confirmer le mot de passe', {
                        'label_attr': {
                            'class': 'form-label'
                        }
                    }) }}
                    {{ form_widget(form.password.second, {
                        'attr': {
                            'class': 'form-control form-control-lg',
                            'placeholder': 'Confirmez votre mot de passe'
                        }
                    }) }}
                    {{ form_errors(form.password.second) }}
                </div>

                {# Conseils de sécurité #}
                <div class="security-tips">
                    <h5><i class="fas fa-shield-alt"></i> Conseils pour un mot de passe sécurisé</h5>
                    <ul>
                        <li>Au moins 8 caractères recommandés</li>
                        <li>Mélangez majuscules, minuscules et chiffres</li>
                        <li>Ajoutez des symboles (@, #, !, etc.)</li>
                        <li>Évitez les informations personnelles</li>
                        <li>N'utilisez pas un mot de passe déjà utilisé</li>
                    </ul>
                </div>

                <button type="submit" class="btn-eysa btn-eysa-primary btn-full">
                    <i class="fas fa-save"></i>
                    Enregistrer le nouveau mot de passe
                </button>
                {{ form_rest(form) }}
            </form>

            {# Retour à l'accueil #}
            <div class="auth-back">
                <a href="{{ path('app_home') }}" class="back-link">
                    <i class="fas fa-home"></i>
                    Retour à l'accueil
                </a>
            </div>
        </div>
    </div>
{% endblock %}