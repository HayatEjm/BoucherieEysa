{% extends 'base.html.twig' %}

{% block title %}{{ product.name }} - EYSA BOUCHERIE{% endblock %}

{# Bloc HEAD pour s'assurer que le CSS est bien charg√© #}
{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('app') }}
{% endblock %}

{% block body %}
<div class="product-detail-page">
    <!-- Fils d'Ariane -->
    <nav class="breadcrumb-nav">
        <div class="container">
            <ol class="breadcrumb-list">
                <li><a href="{{ path('app_home') }}">üè† Accueil</a></li>
                <li><a href="{{ path('app_category_index') }}">Nos produits</a></li>
                {% if product.category %}
                    <li><a href="{{ path('app_category_show', { id: product.category.id }) }}">{{ product.category.name }}</a></li>
                {% endif %}
                <li class="current">{{ product.name }}</li>
            </ol>
        </div>
    </nav>

    <!-- Grille principale -->
    <div class="container">
        <div class="product-detail-grid">
            <!-- Image -->
            <div class="product-image-section">
                <div class="product-image-main">
                    {% if product.image %}
                        <img src="{{ asset('images/' ~ product.image) }}" alt="{{ product.name }}" class="main-image">
                    {% else %}
                        <img src="https://via.placeholder.com/600x600?text=Produit+non+disponible" alt="Image par d√©faut" class="main-image">
                    {% endif %}
                </div>
                <div class="quality-badges">
                    <span class="badge badge-fresh">Fra√Æcheur garantie</span>
                    <span class="badge badge-local">Origine locale</span>
                </div>
            </div>

         <!-- Composant Vue : Informations -->
           

{# Composant Vue : Informations #}
<div
  id="product-detail"
  data-product='{{ product
    |json_encode(constant('JSON_UNESCAPED_UNICODE') b-or constant('JSON_HEX_APOS'))
    |raw }}'
  data-min-weight="{{ product.minWeight }}"
  data-step="100"
  data-max-weight="{{ product.maxWeight }}"
  data-suggestions='{{ [500,1000,1500]
    |json_encode(constant('JSON_UNESCAPED_UNICODE') b-or constant('JSON_HEX_APOS'))
    |raw }}'
></div>




        {% include 'components/product_tabs.html.twig' with { product: product } %}
    </div>
</div>
{% endblock %}

{# Bloc JS : charge Vue, composant et app.js #}
{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('app') }}
{% endblock %}
